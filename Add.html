<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>รายชื่อผู้เล่น — Nytherian</title>
  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@300;400;700&display=swap" rel="stylesheet">
  <link href="style.css" rel="stylesheet" />
</head>
<body>
  <canvas id="starfield"></canvas>

  <div class="page">
    <div class="container">
      <h1>รายชื่อผู้เล่น</h1>
      <div class="list">
        <div class="card player-card" data-id="nusmaru">
          <div class="sigil">
            <img class="crystal" src="https://cdn.discordapp.com/attachments/1409477896275492969/1416764684367036478/IMG_9351.png" alt="Emblem Crystal">
          </div>
          <div class="info">
            <h2>Nusmaru Nytherian</h2>
            <div class="subtitle">ลูกครึ่งเอลฟ์ • อายุ 121 ปี</div>
          </div>
        </div>

        <div class="card player-card" data-id="player2">
          <div class="sigil"></div>
          <div class="info">
            <h2>Player Two</h2>
            <div class="subtitle">ตัวละครลึกลับ • อายุ 99 ปี</div>
          </div>
        </div>

        <div class="card player-card" data-id="player3">
          <div class="sigil"></div>
          <div class="info">
            <h2>Player Three</h2>
            <div class="subtitle">นักรบผู้กล้าหาญ • อายุ 87 ปี</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- Starfield Canvas ---
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    let w=0,h=0,stars=[];

    function resize(){
      w = canvas.width = innerWidth;
      h = canvas.height = innerHeight;
      initStars();
    }

    function initStars(){
      stars = [];
      const count = Math.min(160, Math.floor((w*h)/7000));
      for(let i=0;i<count;i++){
        stars.push({
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*1.6 + 0.2,
          vx: (Math.random()-0.5)*0.1,
          vy: (Math.random()-0.5)*0.1,
          alpha: Math.random()*0.9 + 0.1
        });
      }
    }

    function draw(){
      ctx.clearRect(0,0,w,h);
      const g = ctx.createLinearGradient(0,0,0,h);
      g.addColorStop(0, 'rgba(255,255,255,0.02)');
      g.addColorStop(1, 'rgba(0,0,0,0.2)');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,w,h);

      for(const s of stars){
        ctx.beginPath();
        ctx.fillStyle = 'rgba(255,255,255,' + s.alpha + ')';
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(update);
    }

    function update(){
      for(const s of stars){
        s.x += s.vx;
        s.y += s.vy;
        if(s.x < 0) s.x = w;
        if(s.x > w) s.x = 0;
        if(s.y < 0) s.y = h;
        if(s.y > h) s.y = 0;
        s.alpha += (Math.random()-0.5)*0.02;
        s.alpha = Math.max(0.05, Math.min(1, s.alpha));
      }
      draw();
    }

    addEventListener('resize', resize);
    resize();

    // --- Navigate to Profile ---
    const playerCards = document.querySelectorAll('.player-card');
    playerCards.forEach(card => {
      card.addEventListener('click', () => {
        const id = card.getAttribute('data-id');
        window.location.href = `profile.html?id=${id}`;
      });
    });
  </script>
</body>
</html>